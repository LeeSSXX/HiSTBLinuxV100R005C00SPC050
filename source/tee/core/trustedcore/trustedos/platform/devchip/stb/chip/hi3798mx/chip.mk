
#ADD PLATFORM MACRO HERE
CFG_HI_TEE_HI3798MX_SUPPORT=y

CFG_HI_TVP_MEM_LAYOUT ?= 2G
CONFIG_MEM_LAYOUT := $(CFG_HI_TVP_MEM_LAYOUT)
$(info CONFIG_MEM_LAYOUT=$(CONFIG_MEM_LAYOUT))

ifeq ($(CONFIG_MEM_LAYOUT),3_75G)
TRUSTEDCORE_TEXT_BASE = 0xEE008000
TRUSTEDCORE_LARGER_MEM = true
TRUSTEDCORE_SHAREMEM_SIZE = 0x80000000
TRUSTEDCORE_DEVCHIP_CFLAGS  += -DCONFIG_SYS_MEM_3_75G
endif

ifeq ($(CONFIG_MEM_LAYOUT),2G)
TRUSTEDCORE_TEXT_BASE = 0x6B008000
TRUSTEDCORE_DEVCHIP_CFLAGS  += -DCONFIG_SYS_MEM_2G
endif

ifeq ($(CONFIG_MEM_LAYOUT),1G)
TRUSTEDCORE_TEXT_BASE = 0x2B008000
TRUSTEDCORE_DEVCHIP_CFLAGS  += -DCONFIG_SYS_MEM_1G
endif

ifeq ($(CONFIG_MEM_LAYOUT),512M)
TRUSTEDCORE_TEXT_BASE = 0x1D008000
TRUSTEDCORE_DEVCHIP_CFLAGS  += -DCONFIG_SYS_MEM_512M
endif

ifeq ($(CONFIG_MEM_LAYOUT),256M)
TRUSTEDCORE_TEXT_BASE = 0x0E008000
TRUSTEDCORE_DEVCHIP_CFLAGS  += -DCONFIG_SYS_MEM_256M

endif

ifeq ($(CONFIG_MEM_LAYOUT),1_5G)
TRUSTEDCORE_TEXT_BASE = 0x5E008000
TRUSTEDCORE_DEVCHIP_CFLAGS  += -DCONFIG_SYS_MEM_1_5G
endif

#################### Memory Layout(512M) ###########################################
#                  offset      pa           va
#----------------- 0x02000000  0x20000000   0xC2000000
# TA run mem(25M)
#----------------- 0x00700000  0x1E700000   0xC0700000(TRUSTEDCORE_TASK_LOAD_BASE)
# share mem(2M)
#----------------- 0x00500000  0x1E500000   0xC0500000
# kernel mem(5M)
#----------------- 0x00000000  0x1E000000   0xC0000000(TRUSTEDCORE_TASK_MEM_BASE)
####################################################################################
TRUSTEDCORE_MEM_SIZE := 32
TRUSTEDCORE_TA_RUN_MEM_SIZE := 26
TRUSTEDCORE_TA_SHARE_MEM_SIZE := 1
TRUSTEDCORE_KERNEL_MEM_SIZE := 5

TRUSTEDCORE_TASK_LOAD_BASE := 0xC0700000
